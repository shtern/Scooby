<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Scooby</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet'
    type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

  <!-- Custom styles for this template -->
  <link href="css/agency.min.css" rel="stylesheet">

  <!-- our CSS -->
  <link href="../css/mystylesheet.css" rel="stylesheet">

  <!-- map -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
    integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
    crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
    integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
    crossorigin=""></script>

  <script src='https://api.mapbox.com/mapbox.js/v3.2.0/mapbox.js'></script>
  <link href='https://api.mapbox.com/mapbox.js/v3.2.0/mapbox.css' rel='stylesheet' />

  <script>
    // Provide your access token
    L.mapbox.accessToken = 'pk.eyJ1IjoicmFjaGVsaS13aW5lZmllbGQiLCJhIjoiY2p5NzZ6b2VrMDJkbjNub2FmMHFwY20wNSJ9.msVnd7Vzaw4aLW4I1EGbkg';
      // Create a map in the div #map
      // L.mapbox.map('map', 'mapbox.streets');
  </script>
  <script>

  </script>

</head>

<body id="page-top">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav" style="background-color:black">
    <div class="container">
      <img class="navbar-brand js-scroll-trigger logonavbar" href="#page-top" src="../images/scoobyLogoYellow.png">
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
        data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
        aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav text-uppercase ml-auto">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#services" style="color:gold; font-weight:bold">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#about" style="color:gold;font-weight:bold">Our
              Recommendation</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#contact" style="color:gold;font-weight:bold">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Header -->
  <header class="masthead">
    <div class="container">
      <div class="intro-text">

        <img class="logo" src="../images/scoobyLogoYellow.png">
        <div class="intro-heading text-uppercase"></div>
        <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="#portfolio">Get Started !</a>
      </div>
    </div>
  </header>

 

  <!-- Portfolio Grid -->
  <section class="bg-light page-section" id="portfolio">
    <div class="togglebutton">
    <button class="switchbutton">Switch to parking spots</button>
    
  </div>
      <form class="bar" >
        Numbers of parking spots:
        <input id="amount_of_scooters" type="range" name="points" min="100" max="300" onchange="updateTextInput()">


    </form>
    <div class="container">
      <div id="mapDiv" style="width: 100%; height: 500px"></div>
    </div>
  </section>

  <!-- Services -->
  <section class="page-section" id="services">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Services</h2>
          <h3 class="section-subheading text-muted"></h3>
        </div>
      </div>
      <div class="row text-center">
        <div class="col-md-4">
          <span class="fa-stack fa-4x">
            <!-- <i class="fas fa-circle fa-stack-2x text-primary"></i> -->
            <img class="parking_img" src="../images/parking.png">
          </span>
          <h4 class="service-heading">Parking spots</h4>
          <p class="text-muted">
        </div>
        <div class="col-md-4">
          <span class="fa-stack fa-4x">
            <!-- <i class="fas fa-circle fa-stack-2x text-primary"></i> -->
            <img class="charging_img" src="../images/plug.png">
          </span>
          <h4 class="service-heading">Charging spots</h4>
          <p class="text-muted">
        </div>
        <div class="col-md-4">
          <span class="fa-stack fa-4x">
            <!-- <i class="fas fa-circle fa-stack-2x text-primary"></i> -->
            <img class="road_img" src="../images/road.png">
          </span>
          <h4 class="service-heading">Travel Path's</h4>
          <p class="text-muted">
        </div>
      </div>
    </div>
  </section>
<!-- <div class="gify">
  <img class="scootgyf" src="../images/Monopattino.gif">
  </div> -->
  <!-- Our Recommendation -->
  <section class="page-section" id="about">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Our Recommendation</h2>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <ul class="timeline">
            <li>
              <div class="timeline-image">
                <img class="rounded-circle img-fluid" src="../images/parkingicon2.jpg" alt="">
              </div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h4 class="subheading">Parking spots</h4>
                </div>
                <div class="timeline-body">
                  <p class="text-muted">
                    <br /><b style="color:gold">Scooby</b> recommends you the best places to set up a parking spot based
                    on the scooters concentration </p>
                </div>
              </div>
            </li>
            <li class="timeline-inverted">
              <div class="timeline-image">
                <img class="rounded-circle img-fluid" src="../images/charge.jpg" alt="">
              </div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h4 class="subheading">Charging spots</h4>
                </div>
                <div class="timeline-body">
                  <p class="text-muted">With <b style="color:gold">Scooby</b>, you can check the concentration of
                    scooters and decide the relevant plsace to set up a charging stations</p>
                </div>
              </div>
            </li>
            <li>
              <div class="timeline-image">
                <img class="rounded-circle img-fluid" src="../images/path.jpg" alt="">
              </div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h4 class="subheading">Coming Soon!</h4>
                </div>
                <div class="timeline-body">
                  <p class="text-muted">Scooby will soon recommend municipalities Bike/Scooter lane placement</p>
                </div>
              </div>
            </li>

            <li class="timeline-inverted">
              <div class="timeline-image">
                <h4>Hopfully
                  <br>We can help
                  <br>You!</h4>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section class="page-section" id="contact">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Contact Us</h2>
          <h3 class="section-subheading text-muted">Let us know what you think</h3>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <form id="contactForm" name="sentMessage" novalidate="novalidate">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <input class="form-control" id="name" type="text" placeholder="Your Name *" required="required"
                    data-validation-required-message="Please enter your name.">
                  <p class="help-block text-danger"></p>
                </div>
                <div class="form-group">
                  <input class="form-control" id="email" type="email" placeholder="Your Email *" required="required"
                    data-validation-required-message="Please enter your email address.">
                  <p class="help-block text-danger"></p>
                </div>
                <div class="form-group">
                  <input class="form-control" id="phone" type="tel" placeholder="Your Phone *" required="required"
                    data-validation-required-message="Please enter your phone number.">
                  <p class="help-block text-danger"></p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <textarea class="form-control" id="message" placeholder="Your Message *" required="required"
                    data-validation-required-message="Please enter a message."></textarea>
                  <p class="help-block text-danger"></p>
                </div>
              </div>
              <div class="clearfix"></div>
              <div class="col-lg-12 text-center">
                <div id="success"></div>
                <button id="sendMessageButton" class="btn btn-primary btn-xl text-uppercase" type="submit">Send
                  Message</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-4">
          <span class="copyright">Copyright &copy; Scooby 2019</span>
        </div>
        <div class="col-md-4">
          <ul class="list-inline social-buttons">
            <li class="list-inline-item">
              <a href="#">
                <i class="fab fa-twitter"></i>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="#">
                <i class="fab fa-facebook-f"></i>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="#">
                <i class="fab fa-linkedin-in"></i>
              </a>
            </li>
          </ul>
        </div>
        <div class="col-md-4">
          <ul class="list-inline quicklinks">
          </ul>
        </div>
      </div>
    </div>
  </footer>



  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Contact form JavaScript -->
  <script src="js/jqBootstrapValidation.js"></script>
  <script src="js/contact_me.js"></script>

  <!-- Custom scripts for this template -->
  <script src="js/agency.min.js"></script>

  <!-- our JS -->
  <script src="../js/myjs.js"></script>

  <!-- map -->
  <script>
    // var myurl;

    // var map;

    // window.onload = function load() {

    //   var num_of_scotters = document.getElementById('amount_of_scooters').value;
    //   console.log(num_of_scotters)

    //   var url = `http://ilana.localhost.run/getLocations/${num_of_scotters}`;
    //   // myurl = url
    //   var geojson = [];

    //   console.log(url)
    //   $.ajax({
    //     type: "GET",
    //     // dataType: "json",
    //     url: url,
    //     success: function (response) {
    //       var obj = JSON.parse(response);
    //       var parsed_arr = obj.result
    //       parsed_arr.forEach(function (element) {
    //         if (element.provider == "Bird"){
    //           var color = "#717171";
    //         } else {
    //           var color = "#FEC810";
    //         }
    //         geojson.push({
    //           type: 'Feature',
    //           geometry: {
    //             type: 'Point',
    //             coordinates: [element.cluster.lon, element.cluster.lat]
    //           },
    //           properties: {
    //             title: element.provider,
    //             "marker-size": "small",
    //             "marker-symbol": "scooter",
    //             "marker-color": color,
    //           }
    //         });
    //       });
    //       var lat = 32.109333;
    //       var lon = 34.855499;
    //       // initialize map
    //       map = L.mapbox.map('mapDiv').setView([lat, lon], 13)
    //         // set map tiles source
    //         .addLayer(L.mapbox.styleLayer('mapbox://styles/mapbox/light-v10'));

    //       var myLayer = L.mapbox.featureLayer().addTo(map);
    //       myLayer.on('layeradd', function (e) {
    //         var marker = e.layer,
    //           feature = marker.feature;
    //         var content = '<p><strong>' + feature.properties.title + '</strong></p>';
    //         marker.bindPopup(content).openPopup();;
    //       });
    //       myLayer.setGeoJSON(geojson);
    //       map.scrollWheelZoom.disable();
    //     },
    //     error: function (msg) {
    //       alert("error");
    //     },
    //     complete: function (response, status) {
    //       console.log("complete", status);
    //     }
    //   });
    // };

    // map = map;
    // function updateTextInput(amount) {
    //   var num_of_scotters = document.getElementById('amount_of_scooters').value;
    //   console.log(num_of_scotters)
    //   var num_of_scotters = document.getElementById('amount_of_scooters').value;
    //   console.log(num_of_scotters)

    //   var url = `http://ilana.localhost.run/getLocations/${num_of_scotters}`;
    //   // myurl = url
    //   var geojson = [];

    //   console.log(url)
    //   $.ajax({
    //     type: "GET",
    //     // dataType: "json",
    //     url: url,
    //     success: function (response) {
    //       var obj = JSON.parse(response);
    //       var parsed_arr = obj.result
    //       parsed_arr.forEach(function (element) {
    //         geojson.push({
    //           type: 'Feature',
    //           geometry: {
    //             type: 'Point',
    //             coordinates: [element.cluster.lon, element.cluster.lat]
    //           },
    //           properties: {
    //             title: element.text
    //           }
    //         });
    //       });
    //       var lat = 32.109333;
    //       var lon = 34.855499;
    //       // initialize map
    //       map 
    //       // = L.mapbox.map('mapDiv').setView([lat, lon], 13)
    //         // set map tiles source
    //         .addLayer(L.mapbox.styleLayer('mapbox://styles/mapbox/light-v10'));

    //       var myLayer = L.mapbox.featureLayer().addTo(map);
    //       myLayer.on('layeradd', function (e) {
    //         var marker = e.layer,
    //           feature = marker.feature;
    //         var content = '<p><strong>' + feature.properties.title + '</strong></p>';
    //         marker.bindPopup(content).openPopup();;
    //       });
    //       myLayer.setGeoJSON(geojson);
    //       map.scrollWheelZoom.disable();
    //     },
    //     error: function (msg) {
    //       alert("error");
    //     },
    //     complete: function (response, status) {
    //       console.log("complete", status);
    //     }
    //   });
    // }




    // the scooters view -- the defult view

    var map;

    window.onload = function load() {
      var num_of_scotters = document.getElementById('amount_of_scooters').value;
      var url = `http://ilana.localhost.run/getScooters`;
      var geojson = [];

      $.ajax({
        type: "GET",
        // dataType: "json",
        url: url,
        success: function (response) {
          var obj = JSON.parse(response);
          var parsed_arr = obj.Scooters
          parsed_arr.forEach(function (element) {
            if (element.data.provider == "Bird") {
              var color = "#717171";
            } else {
              var color = "#FEC810";
            }
            geojson.push({
              type: 'Feature',
              geometry: {
                type: 'Point',
                coordinates: [element.data.lon, element.data.lat]
              },
              properties: {
                title: element.data.provider,
                "marker-size": "small",
                "marker-symbol": "scooter",
                "marker-color": color,
              }
            });
          });
          var lat = 32.109333;
          var lon = 34.855499;
          // initialize map
          map = L.mapbox.map('mapDiv').setView([lat, lon], 13)
            // set map tiles source
            .addLayer(L.mapbox.styleLayer('mapbox://styles/mapbox/light-v10'));

          var myLayer = L.mapbox.featureLayer().addTo(map);
          myLayer.on('layeradd', function (e) {
            var marker = e.layer,
              feature = marker.feature;
            var content = '<p><strong>' + feature.properties.title + '</strong></p>';
            marker.bindPopup(content).openPopup();
          });
          myLayer.setGeoJSON(geojson);
          map.scrollWheelZoom.disable();
        },
        error: function (msg) {
          alert("error");
        },
        complete: function (response, status) {
          console.log("complete", status);
        }
      });
    }







  </script>

</body>

</html>